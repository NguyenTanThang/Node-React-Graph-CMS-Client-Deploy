(this["webpackJsonpclient-graphql"]=this["webpackJsonpclient-graphql"]||[]).push([[0],{54:function(e,a,t){e.exports=t(75)},60:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(31),c=t.n(r),s=(t(59),t(60),t(23)),o=t(14),m=new o.a({uri:"https://node-js-sms-backend-123.herokuapp.com/"}),i=t(10),u=t(30),d=t(3),E=Object(n.createContext)();var b=function(e){var a=Object(n.useState)(""),t=Object(d.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),m=o[0],i=o[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),p=b[0],g=b[1];return l.a.createElement(E.Provider,{value:{message:r,visible:p,messageType:m,setMessage:c,setMessageType:i,setVisible:g}},e.children)},p=t(6),g=t(17);function v(){var e=Object(g.a)(["\n  mutation ($userID: ID!, $oldPassword: String!, $newPassword: String!) {\n    changePassword(userID: $userID, oldPassword: $oldPassword, newPassword: $newPassword) {\n      id\n    }\n  }\n"]);return v=function(){return e},e}function f(){var e=Object(g.a)(["\nquery ($trainerID: ID!) {\n  getTrainerByID(trainerID: $trainerID) {\n    id\n    name\n    dob\n    address\n    phone_number\n    profession\n    created_date\n    topicsIDs\n    topics {\n      title\n      id\n    }\n    user {\n      email\n    }\n  }\n}\n"]);return f=function(){return e},e}function h(){var e=Object(g.a)(["\nquery ($studentID: ID!){\n  getStudentByID(studentID: $studentID){\n    id\n    name\n    dob\n    address\n    phone_number\n    created_date\n    coursesIDs\n    user {\n      email\n    }\n    courses {\n      name\n      id\n    }\n  }\n}\n"]);return h=function(){return e},e}function N(){var e=Object(g.a)(["\nquery ($topicID: ID!){\n  getTopicByID(topicID: $topicID){\n    id\n    title\n    created_date\n    courseID\n    assigned_trainers {\n      name\n      id\n    }\n    course {\n      id\n      name\n      participated_students {\n        id\n        name\n      }\n    }\n  }\n}\n"]);return N=function(){return e},e}function O(){var e=Object(g.a)(["\nquery ($courseID: ID!){\n  getCourseByID(courseID: $courseID){\n    id\n    name\n    created_date\n    topics {\n      title\n      id\n      assigned_trainers {\n        name\n        id\n      }\n    }\n    participated_students {\n      name\n      id\n    }\n  }\n}\n"]);return O=function(){return e},e}function D(){var e=Object(g.a)(["\nmutation ($trainerID: ID!, $topicID: ID!){\n  assignTrainerToTopic(trainerID: $trainerID, topicID: $topicID){\n    id\n    name\n    dob\n    address\n    phone_number\n    created_date\n    topicsIDs\n    topics {\n      title\n      id\n    }\n  }\n}\n"]);return D=function(){return e},e}function j(){var e=Object(g.a)(["\nmutation ($courseID: ID!, $studentID: ID!){\n  assignStudentToCourse(courseID: $courseID, studentID: $studentID){\n    id\n    name\n    dob\n    address\n    phone_number\n    created_date\n    coursesIDs\n    courses {\n      name\n      id\n    }\n  }\n}\n"]);return j=function(){return e},e}function I(){var e=Object(g.a)(["\nquery ($userID: ID!){\n  getUserByID(userID: $userID) {\n    id\n    role\n    email\n    student {\n      id\n      name\n      dob\n      address\n      coursesIDs\n      phone_number\n      courses {\n        name\n        id\n      }\n    }\n    trainer {\n      id\n      name\n      dob\n      address\n      topicsIDs\n      phone_number\n      profession\n      topics {\n        title\n        id\n      }\n    }\n  }\n}\n"]);return I=function(){return e},e}function y(){var e=Object(g.a)(["\nmutation ($email: String!, $password: String!){\n  login (email: $email, password: $password){\n    id\n    role\n    student {\n      name\n    }\n    trainer {\n      name\n    }\n  }\n}\n"]);return y=function(){return e},e}function w(){var e=Object(g.a)(["\n  mutation ($trainerID: ID!) {\n    deleteTrainer(trainerID: $trainerID) {\n      id\n    }\n  }\n"]);return w=function(){return e},e}function S(){var e=Object(g.a)(["\nmutation ($trainerID: ID!, \n  $name: String,\n  $dob: String,\n  $phone_number: String,\n  $address: String,\n  $topicsIDs: [String],\n  $profession: String){\n\n  updateTrainer(trainerID: $trainerID, \n  name: $name,\n  dob: $dob,\n  phone_number: $phone_number,\n  address: $address,\n  topicsIDs: $topicsIDs,\n  profession: $profession) {\n    id\n    name\n      dob\n      address\n      topicsIDs\n      phone_number\n      profession\n      topics {\n        title\n      }\n      user {\n        email\n      }\n  }\n}\n"]);return S=function(){return e},e}function C(){var e=Object(g.a)(["\nmutation ($name: String!,\n  $dob: String!,\n  $phone_number: String!,\n  $address: String!,\n  $topicsIDs: [String],\n  $email: String!,\n  $password: String!,\n  $profession: String!){\n\n  addTrainer(name: $name,\n  dob: $dob,\n  phone_number: $phone_number,\n  address: $address,\n  topicsIDs: $topicsIDs,\n  email: $email,\n  password: $password,\n  profession: $profession) {\n    id\n    name\n      dob\n      address\n      phone_number\n      profession\n      topicsIDs\n      topics {\n        title\n      }\n      user {\n        email\n      }\n  }\n}\n"]);return C=function(){return e},e}function x(){var e=Object(g.a)(["\nquery {\n  trainers {\n    id\n    name\n    dob\n    address\n    phone_number\n    profession\n    topicsIDs\n    topics {\n      title\n    }\n    user {\n      email\n    }\n  }\n}\n"]);return x=function(){return e},e}function k(){var e=Object(g.a)(["\n  mutation ($studentID: ID!) {\n    deleteStudent(studentID: $studentID) {\n      id\n    }\n  }\n"]);return k=function(){return e},e}function $(){var e=Object(g.a)(["\nmutation ($studentID: ID!, \n  $name: String, \n  $dob: String\n  , $phone_number: String, \n  $address: String,\n  $coursesIDs: [String]\n  ){\n  updateStudent(studentID: $studentID\n    , name: $name,\n  dob: $dob,\n  phone_number: $phone_number,\n  address: $address,\n  coursesIDs: $coursesIDs) {\n    id\n    name\n    dob\n    address\n    phone_number\n    created_date\n    coursesIDs\n    courses {\n      name\n      id\n    }\n    user {\n      email\n    }\n  }\n}\n"]);return $=function(){return e},e}function T(){var e=Object(g.a)(["\nmutation ($name: String!, $dob: String!\n  , $phone_number: String!, \n  $address: String!,\n  $email: String!,\n  $password: String!,\n  $coursesIDs: [String]){\n  addStudent(name: $name,\n  dob: $dob,\n  phone_number: $phone_number,\n  address: $address,\n  coursesIDs: $coursesIDs,\n  email: $email,\n  password: $password) {\n    id\n    name\n    dob\n    address\n    phone_number\n    created_date\n    coursesIDs\n    courses {\n      name\n      id\n    }\n    user {\n      email\n    }\n  }\n}\n"]);return T=function(){return e},e}function _(){var e=Object(g.a)(["\nquery {\n  students {\n    id\n    name\n    dob\n    address\n    phone_number\n    created_date\n    coursesIDs\n    courses {\n      name\n      id\n    }\n    user {\n      email\n    }\n  }\n}\n"]);return _=function(){return e},e}function q(){var e=Object(g.a)(["\nmutation ($topicID: ID!, $title: String, $courseID: ID){\n    updateTopic(topicID: $topicID, courseID: $courseID, title: $title) {\n      id\n      title\n      created_date\n      courseID\n      course {\n        id\n        name\n      }\n    }\n  }\n"]);return q=function(){return e},e}function L(){var e=Object(g.a)(["\nmutation ($topicID: ID!){\n    deleteTopic(topicID: $topicID) {\n      id\n    }\n  }\n"]);return L=function(){return e},e}function P(){var e=Object(g.a)(["\nmutation ($title: String!, $courseID: ID!){\n    addTopic(title: $title, courseID: $courseID){\n      id\n      title\n      created_date\n      courseID\n      course {\n        id\n        name\n      }\n    }\n}\n"]);return P=function(){return e},e}function F(){var e=Object(g.a)(["\nquery {\n  topics {\n    id\n    title\n    created_date\n    courseID\n    course {\n      id\n      name\n    }\n  }\n}\n"]);return F=function(){return e},e}function B(){var e=Object(g.a)(["\nmutation ($courseID: ID!, $name: String){\n    updateCourse(courseID: $courseID, name: $name) {\n      id\n      name\n      created_date\n    }\n  }\n"]);return B=function(){return e},e}function A(){var e=Object(g.a)(["\nmutation ($courseID: ID!){\n    deleteCourse(courseID: $courseID) {\n      id\n    }\n  }\n"]);return A=function(){return e},e}function U(){var e=Object(g.a)(["\nmutation ($name: String!){\n    addCourse(name: $name){\n        id\n        name\n        created_date\n      }\n}\n"]);return U=function(){return e},e}function M(){var e=Object(g.a)(["\n  {\n    courses {\n      id\n      name\n      created_date\n    }\n  }\n"]);return M=function(){return e},e}var Q=Object(o.b)(M()),V=Object(o.b)(U()),Y=Object(o.b)(A()),J=Object(o.b)(B()),W=Object(o.b)(F()),X=Object(o.b)(P()),z=Object(o.b)(L()),G=Object(o.b)(q()),H=Object(o.b)(_()),K=Object(o.b)(T()),R=Object(o.b)($()),Z=Object(o.b)(k()),ee=Object(o.b)(x()),ae=Object(o.b)(C()),te=Object(o.b)(S()),ne=Object(o.b)(w()),le=Object(o.b)(y()),re=Object(o.b)(I()),ce=Object(o.b)(j()),se=Object(o.b)(D()),oe=Object(o.b)(O()),me=Object(o.b)(N()),ie=Object(o.b)(h()),ue=Object(o.b)(f()),de=Object(o.b)(v());var Ee=function(){var e=localStorage.getItem("userID"),a=Object(p.b)(re,{variables:{userID:e}});return l.a.createElement("div",{className:"side-nav"},l.a.createElement("div",{className:"close-nav-btn"},"X"),function(){var e=a.loading,t=a.error;if(e)return l.a.createElement("p",null,"Loading...");if(t)return l.a.createElement("div",{className:"profile"},l.a.createElement("h4",null,"No user has been specified"),l.a.createElement("h6",null,"Please login"));var n=a.data.getUserByID,r=n.role,c=n.email;return l.a.createElement("div",{className:"profile"},l.a.createElement("h4",null,c),l.a.createElement("h6",null,r))}(),l.a.createElement("div",{className:"side-nav-list"},l.a.createElement("ul",null,function(){var e=a.loading,t=a.error;if(e)return l.a.createElement("p",null,"Loading...");if(t)return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/"},"Login")));var n=a.data.getUserByID.role;return"Admin"===n?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/courses"},"Courses")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/topics"},"Topics")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/trainers"},"Trainers")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/students"},"Students")),l.a.createElement("li",null,l.a.createElement(i.b,{className:"text-danger",to:"/logout"},"Logout"))):"Student"===n||"Trainer"===n?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(i.b,{className:"text-danger",to:"/logout"},"Logout"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/"},"Login")))}())))},be=t(77),pe=t(78),ge=function(e){return l.a.createElement(be.a,{color:"light",light:!0,expand:"md"},l.a.createElement(pe.a,null,l.a.createElement(i.b,{to:"/",className:"navbar-brand"},"Course Management System"),l.a.createElement("div",{className:"nav-btn"},l.a.createElement("i",{className:"fas fa-bars fa-2x","aria-hidden":"true"}))))},ve=t(9),fe=t.n(ve),he=t(12),Ne=t(79),Oe=t(80),De=t(81),je=t(82),Ie=t(83);var ye=function(e){localStorage.getItem("userID")&&(e.history.push("/profile"),window.location.reload());var a=Object(n.useState)(""),t=Object(d.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),m=o[0],i=o[1],u=Object(p.a)(le),E=Object(d.a)(u,2),b=E[0],g=(E[1].data,function(){var a=Object(he.a)(fe.a.mark((function a(t){var n;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,b({variables:{email:r,password:m}});case 3:n=a.sent,console.log(n),n.data.login.id&&(localStorage.setItem("userID",n.data.login.id),e.history.push("/profile"),window.location.reload());case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Login"),l.a.createElement("div",{className:"box-content"},l.a.createElement(Ne.a,{onSubmit:g},l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"email"},"Email:"),l.a.createElement(je.a,{type:"email",placeholder:"Email",id:"email",name:"email",required:!0,value:r,onChange:function(e){c(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"password"},"Password:"),l.a.createElement(je.a,{type:"password",placeholder:"Password",id:"password",name:"password",required:!0,value:m,onChange:function(e){i(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Login"))))))},we=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Se=function(e){var a=parseInt(e),t=new Date(a),n=""+t.getFullYear(),l=we[t.getMonth()],r=""+t.getDate();return 1===r.length&&(r="0"+r),"".concat(r,"-").concat(l,"-").concat(n)},Ce=function(e){var a=Date.parse(e),t=new Date(a),n=""+t.getFullYear(),l=we[t.getMonth()],r=""+t.getDate();return 1===r.length&&(r="0"+r),"".concat(r,"-").concat(l,"-").concat(n)},xe=t(88),ke=t(84),$e=t(85),Te=t(86),_e=t(89),qe=function(e){var a=Object(n.useContext)(E),t=a.message,r=a.messageType,c=a.visible,s=a.setVisible,o=t;if(!t)return l.a.createElement(l.a.Fragment,null);var m=function(){s(!1)};return l.a.createElement(xe.a,{isOpen:c,toggle:m},l.a.createElement(ke.a,{toggle:m}),l.a.createElement($e.a,null,l.a.createElement(_e.a,{color:r},o)),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:m},"Cancel")))},Le=function(e){var a=e.className,t=e.studentItem,r=Object(n.useContext)(E),c=r.setMessage,s=r.setMessageType,o=r.setVisible,m=Object(n.useState)(t.name),i=Object(d.a)(m,2),u=i[0],b=i[1],g=Object(n.useState)(t.address),v=Object(d.a)(g,2),f=v[0],h=v[1],N=Object(n.useState)(t.phone_number),O=Object(d.a)(N,2),D=O[0],j=O[1],I=Object(n.useState)(t.dob),y=Object(d.a)(I,2),w=y[0],S=y[1],C=Object(n.useState)(t.coursesIDs),x=Object(d.a)(C,2),k=x[0],$=(x[1],Object(p.a)(R,{update:function(e,a){var t=a.data.updateStudent,n=e.readQuery({query:H}).students;e.writeQuery({query:H,data:{data:{students:n.map((function(e){return e.id==t.id?t:e}))}}})}})),T=Object(d.a)($,2),_=T[0],q=(T[1].data,Object(n.useState)(!1)),L=Object(d.a)(q,2),P=L[0],F=L[1],B=function(){return F(!P)},A=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,_({variables:{studentID:t.id,name:u,address:f,dob:w,phone_number:D,coursesIDs:k}});case 3:window.location.href.includes("profile")?(c("Successfully updated. Please reload to take effect"),s("success"),o(!0)):(c("Successfully updated"),s("success"),o(!0));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"warning",onClick:B},"Update"),l.a.createElement(xe.a,{isOpen:P,toggle:B,className:a},l.a.createElement(ke.a,{toggle:B},"Update Student"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:A},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"name"},"Name:"),l.a.createElement(je.a,{type:"text",placeholder:"Name",id:"name",name:"name",required:!0,value:u,onChange:function(e){b(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"dob"},"Date of Birth:"),l.a.createElement(je.a,{type:"date",placeholder:"DOB",id:"dob",name:"dob",required:!0,value:w,onChange:function(e){S(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"phone_number"},"Phone Number:"),l.a.createElement(je.a,{type:"tel",placeholder:"Phone Number",id:"phone_number",name:"phone_number",required:!0,value:D,onChange:function(e){j(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"address"},"Address:"),l.a.createElement("textarea",{id:"address",name:"address",className:"form-control",rows:"5",placeholder:"Address",value:f,onChange:function(e){h(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Update")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:B},"Cancel"))))},Pe=function(e){var a=e.className,t=e.trainerItem,r=Object(n.useContext)(E),c=r.setMessage,s=r.setMessageType,o=r.setVisible,m=Object(n.useState)(t.name),i=Object(d.a)(m,2),u=i[0],b=i[1],g=Object(n.useState)(t.address),v=Object(d.a)(g,2),f=v[0],h=v[1],N=Object(n.useState)(t.phone_number),O=Object(d.a)(N,2),D=O[0],j=O[1],I=Object(n.useState)(t.dob),y=Object(d.a)(I,2),w=y[0],S=y[1],C=Object(n.useState)(t.topicsIDs),x=Object(d.a)(C,2),k=x[0],$=(x[1],Object(n.useState)(t.profession)),T=Object(d.a)($,2),_=T[0],q=T[1],L=Object(p.a)(te,{update:function(e,a){var t=a.data.updateTrainer,n=e.readQuery({query:ee}).trainers;e.writeQuery({query:ee,data:{data:{trainers:n.map((function(e){return e.id==t.id?t:e}))}}})}}),P=Object(d.a)(L,2),F=P[0],B=(P[1].data,Object(n.useState)(!1)),A=Object(d.a)(B,2),U=A[0],M=A[1],Q=function(){return M(!U)},V=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,F({variables:{trainerID:t.id,name:u,address:f,dob:w,phone_number:D,topicsIDs:k,profession:_}});case 3:window.location.href.includes("profile")?(c("Successfully updated. Please reload to take effect"),s("success"),o(!0)):(c("Successfully updated"),s("success"),o(!0));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"warning",onClick:Q},"Update"),l.a.createElement(xe.a,{isOpen:U,toggle:Q,className:a},l.a.createElement(ke.a,{toggle:Q},"Update Trainer"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:V},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"name"},"Name:"),l.a.createElement(je.a,{type:"text",placeholder:"Name",id:"name",name:"name",required:!0,value:u,onChange:function(e){b(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"profession"},"Profession:"),l.a.createElement(je.a,{type:"text",placeholder:"Profession",id:"profession",name:"profession",required:!0,value:_,onChange:function(e){q(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"dob"},"Date of Birth:"),l.a.createElement(je.a,{type:"date",placeholder:"DOB",id:"dob",name:"dob",required:!0,value:w,onChange:function(e){S(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"phone_number"},"Phone Number:"),l.a.createElement(je.a,{type:"tel",placeholder:"Phone Number",id:"phone_number",name:"phone_number",required:!0,value:D,onChange:function(e){j(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"address"},"Address:"),l.a.createElement("textarea",{id:"address",name:"address",className:"form-control",rows:"5",placeholder:"Address",value:f,onChange:function(e){h(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Update")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:Q},"Cancel"))))};var Fe=function(e){var a=localStorage.getItem("userID"),t=Object(p.b)(re,{variables:{userID:a}}),n=t.loading,r=t.error,c=t.data;if(n)return l.a.createElement("p",null,"Loading...");if(r)return l.a.createElement("p",null,r.message);var s=c.getUserByID,o=s.role,m=s.email,u=s.student,d=s.trainer;return l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Profile"),l.a.createElement("div",{className:"box-content"},l.a.createElement("h4",null,"Logged in as ",m),l.a.createElement("h6",{style:{marginBottom:"30px"}},o),function(){if("Admin"===o)return l.a.createElement("div",null);if("Student"===o){var e=u.name,a=u.dob,t=u.address,n=u.phone_number,r=u.courses,c=0===r.length?l.a.createElement("ul",null,l.a.createElement("li",null,"Nothing to learn")):l.a.createElement("ul",null,r.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(i.b,{to:"/courses/".concat(e.id)},e.name))})));return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,e)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Date of Birth:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Ce(a))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Address:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,t)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Phone Number:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,n)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Email:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,m)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Participated Courses:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},c)))}if("Trainer"===o){var s=d.name,E=d.dob,b=d.address,p=d.phone_number,g=d.topics,v=d.profession,f=0===g.length?l.a.createElement("ul",null,l.a.createElement("li",null,"Nothing to teach")):l.a.createElement("ul",null,g.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(i.b,{to:"/topics/".concat(e.id)},e.title))})));return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,s)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Date of Birth:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Ce(E))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Address:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,b)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Phone Number:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,p)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Email:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,m)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Profession:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,v)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Assigned Topics:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},f)))}}())),l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Configuration"),l.a.createElement("div",{className:"box-content util-box align-items-center"},l.a.createElement(i.b,{to:"/change-password",className:"btn btn-primary"},"Change Password"),"Admin"===o?"":"Student"===o?l.a.createElement(Le,{studentItem:u}):"Trainer"===o?l.a.createElement(Pe,{trainerItem:d}):void 0,l.a.createElement(i.b,{to:"/logout",className:"btn btn-danger"},"Logout"))))},Be=function(e){var a=e.courseItem,t=Object(n.useState)(a.name),r=Object(d.a)(t,2),c=r[0],s=r[1],o=Object(n.useContext)(E),m=o.setMessage,i=o.setMessageType,u=o.setVisible,b=Object(p.a)(J,{update:function(e,a){var t=a.data.updateCourse,n=e.readQuery({query:Q}).courses;e.writeQuery({query:Q,data:{courses:n.map((function(e){return e.id==t.id?t:e}))}})}}),g=Object(d.a)(b,2),v=g[0],f=(g[1].data,e.className),h=Object(n.useState)(!1),N=Object(d.a)(h,2),O=N[0],D=N[1],j=function(){return D(!O)},I=function(){var e=Object(he.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v({variables:{name:c,courseID:a.id}});case 3:m("Successfully updated"),i("success"),u(!0);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"warning",onClick:j},"Update"),l.a.createElement(xe.a,{isOpen:O,toggle:j,className:f},l.a.createElement(ke.a,{toggle:j},"Update Course"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:I},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"name"},"Course Name:"),l.a.createElement(je.a,{type:"text",placeholder:"Course Name",id:"name",name:"name",required:!0,value:c,onChange:function(e){s(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Update")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:j},"Cancel"))))},Ae=function(e){var a=e.className,t=e.courseID,r=Object(p.b)(oe,{variables:{courseID:t}}),c=Object(p.a)(Y,{update:function(e,a){var t=a.data.deleteCourse,n=e.readQuery({query:Q}).courses;e.writeQuery({query:Q,data:{courses:n.filter((function(e){return e.id!==t.id}))}})}}),s=Object(d.a)(c,2),o=s[0],m=(s[1].data,function(){var e=Object(he.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{courseID:t}});case 2:b(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),i=Object(n.useState)(!1),u=Object(d.a)(i,2),E=u[0],b=u[1],g=function(){return b(!E)};return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"danger",onClick:g},"Delete"),l.a.createElement(xe.a,{isOpen:E,toggle:g,className:a},l.a.createElement(ke.a,{toggle:g},"Delete Course"),l.a.createElement($e.a,null,function(){var e=r.loading,a=r.error,t=r.data;if(e)return l.a.createElement("p",null,"Loading...");if(a)return l.a.createElement("p",null,a.message);var n=t.getCourseByID,c=n.name,s=n.topics,o=n.participated_students;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,c)),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Topics:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,function(e){return 0===e.length?l.a.createElement("li",{key:"LOL"},"No topic has assigned to this course"):e.map((function(e){return l.a.createElement("li",{key:e.id},e.title)}))}(s))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Participated Students:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,function(e){return 0===e.length?l.a.createElement("li",{key:"LOL2"},"No student has participated in this course"):e.map((function(e){return l.a.createElement("li",{key:e.id},e.name)}))}(o))))}()),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"danger",onClick:m},"Yes")," ",l.a.createElement(Ie.a,{color:"secondary",onClick:g},"No"))))};var Ue=function(e){var a=e.courseItem,t=e.courseItem,n=t.name,r=t.created_date,c=t.id;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/courses/".concat(c)},n)),l.a.createElement("td",null,Se(r)),l.a.createElement("td",{className:"utils"},l.a.createElement(Be,{courseItem:a}),l.a.createElement(Ae,{courseID:c})))},Me=function(e){var a=e.className,t=Object(n.useContext)(E),r=t.setMessage,c=t.setMessageType,s=t.setVisible,o=Object(n.useState)(""),m=Object(d.a)(o,2),i=m[0],u=m[1],b=Object(p.a)(V,{update:function(e,a){var t=a.data.addCourse;console.log(t);var n=e.readQuery({query:Q}).courses;e.writeQuery({query:Q,data:{courses:n.concat([t])}})}}),g=Object(d.a)(b,2),v=g[0],f=(g[1].data,Object(n.useState)(!1)),h=Object(d.a)(f,2),N=h[0],O=h[1],D=function(){return O(!N)},j=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,v({variables:{name:i}});case 3:u(""),r("Successfully created"),c("success"),s(!0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"dark",onClick:D},"Add Course"),l.a.createElement(xe.a,{isOpen:N,toggle:D,className:a},l.a.createElement(ke.a,{toggle:D},"Create New Course"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:j},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"name"},"Course Name:"),l.a.createElement(je.a,{type:"text",placeholder:"Course Name",id:"name",name:"name",required:!0,value:i,onChange:function(e){u(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Create")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:D},"Cancel"))))},Qe=function(e){var a=Object(p.b)(Q),t=Object(p.b)(H),r=Object(n.useContext)(E),c=r.setMessage,s=r.setMessageType,o=r.setVisible,m=Object(p.a)(ce,{update:function(e,a){var t=a.data.assignStudentToCourse,n=e.readQuery({query:H}).students;e.writeQuery({query:H,data:{students:n.map((function(e){return e.id===t.id?t:e}))}})}}),i=Object(d.a)(m,2),u=i[0],b=(i[1],Object(n.useState)("")),g=Object(d.a)(b,2),v=g[0],f=g[1],h=Object(n.useState)(""),N=Object(d.a)(h,2),O=N[0],D=N[1],j=e.className,I=Object(n.useState)(!1),y=Object(d.a)(I,2),w=y[0],S=y[1],C=function(){return S(!w)},x=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,u({variables:{courseID:v,studentID:O}});case 3:f(""),D(""),c("Successfully assigned"),s("success"),o(!0),setTimeout((function(){window.location.reload()}),1e3);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"dark",onClick:C},"Assign Student To Course"),l.a.createElement(xe.a,{isOpen:w,toggle:C,className:j},l.a.createElement(ke.a,{toggle:C},"Assign Student To Course"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:x},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"studentID"},"Student:"),l.a.createElement("select",{className:"custom-select",id:"studentID",name:"studentID",defaultValue:"",value:O,onChange:function(e){D(e.target.value)}},l.a.createElement("option",{value:"",disabled:!0},"--Student--"),function(){var e=t.loading,a=t.error,n=t.data;return e?l.a.createElement("option",{disabled:!0},"Loading..."):a?l.a.createElement("option",{disabled:!0},a.message):n.students.map((function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.name)}))}())),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"courseID"},"Course:"),l.a.createElement("select",{className:"custom-select",id:"courseID",name:"courseID",defaultValue:"",value:v,onChange:function(e){f(e.target.value)}},l.a.createElement("option",{value:"",disabled:!0},"--Course--"),function(){var e,n=a.loading,r=a.error,c=a.data;if(n||t.loading)return l.a.createElement("option",{disabled:!0},"Loading...");if(r||t.error)return l.a.createElement("option",{disabled:!0},r.message);var s=c.courses;return O&&(e=t.data.students.filter((function(e){return e.id===O}))[0],s=s.filter((function(a){return!e.coursesIDs.includes(a.id)}))),0===s.length?l.a.createElement("option",{disabled:!0,key:"LOL3"},"No student has been specified or this student has participated in all available courses"):s.map((function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.name)}))}())),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Assign")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:C},"Cancel"))))},Ve=t(87);var Ye=function(){var e=Object(p.b)(Q),a=e.loading,t=e.error,n=e.data;return a?l.a.createElement("p",null,"Loading..."):t?l.a.createElement("p",null,t.message):l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content util-box"},l.a.createElement(Me,null),l.a.createElement(Qe,null))),l.a.createElement("div",{className:"box table-container"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement(Ve.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Created Date"),l.a.createElement("th",null,"Utilities")),l.a.createElement("tbody",null,n.courses.map((function(e){return l.a.createElement(Ue,{key:e.id,courseItem:e})})))))))};var Je=function(e){var a=e.match.params.courseID,t=localStorage.getItem("userID"),n=(Object(p.b)(Q),Object(p.b)(re,{variables:{userID:t}})),r=Object(p.b)(oe,{variables:{courseID:a}}),c=r.loading,s=r.error,o=r.data;if(c)return l.a.createElement("p",null,"Loading...");if(s)return l.a.createElement("p",null,s.message);var m=o.getCourseByID,u=m.name,d=m.created_date,E=m.topics,b=m.participated_students,g=[];return l.a.createElement(pe.a,null,function(){var e=n.data.getUserByID.role;return n.loading?l.a.createElement("p",null,"Loading..."):n.error?l.a.createElement("p",null,n.error.message):"Admin"===e?l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content util-box"},l.a.createElement(i.b,{to:"/courses",className:"btn btn-dark"},"Back To List"))):""}(),l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,u)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Created Date:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Se(d))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Topics:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,0===E.length?l.a.createElement("li",{key:"LOL"},"No topic has assigned to this course"):E.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(i.b,{to:"/topics/".concat(e.id)},e.title))})))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Assigned Trainers:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,(E.forEach((function(e){e.assigned_trainers.forEach((function(e){g.includes(e.name)||g.push(e.name)}))})),0===g.length?l.a.createElement("li",{key:"LOL1"},"No trainer has been assigned"):g.map((function(e,a){return l.a.createElement("li",{key:"".concat(u,"-").concat(a)},e)}))))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Participated Students:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,(console.log(b),0===b.length?l.a.createElement("li",{key:"LOL2"},"No student has participated in this course"):b.map((function(e){return l.a.createElement("li",{key:e.id},e.name)})))))))))},We=function(e){var a=Object(n.useContext)(E),t=a.setMessage,r=a.setMessageType,c=a.setVisible,s=e.topicItem,o=Object(n.useState)(s.title),m=Object(d.a)(o,2),i=m[0],u=m[1],b=Object(n.useState)(s.courseID),g=Object(d.a)(b,2),v=g[0],f=g[1],h=Object(p.b)(Q),N=h.loading,O=h.error,D=Object(p.a)(G,{update:function(e,a){var t=a.data.updateTopic,n=e.readQuery({query:W}).topics;e.writeQuery({query:W,data:{topics:n.map((function(e){return e.id==t.id?t:e}))}})}}),j=Object(d.a)(D,2),I=j[0],y=(j[1].data,e.className),w=Object(n.useState)(!1),S=Object(d.a)(w,2),C=S[0],x=S[1],k=function(){return x(!C)},$=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,I({variables:{topicID:s.id,title:i,courseID:v}});case 3:t("Successfully updated"),r("success"),c(!0);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"warning",onClick:k},"Update"),l.a.createElement(xe.a,{isOpen:C,toggle:k,className:y},l.a.createElement(ke.a,{toggle:k},"Update Topic"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:$},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"title"},"Topic Title:"),l.a.createElement(je.a,{type:"text",placeholder:"Topic Title",id:"title",name:"title",required:!0,value:i,onChange:function(e){u(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"courseID"},"Course:"),l.a.createElement("select",{className:"custom-select",id:"courseID",name:"courseID",defaultValue:v,value:v,onChange:function(e){f(e.target.value)},required:!0},l.a.createElement("option",{disabled:!0,value:""},"--Course--"),N?l.a.createElement("option",null,"Loading"):O?l.a.createElement("option",null,"Error"):h.data.courses.map((function(e){return l.a.createElement("option",{value:e.id},e.name)})))),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Update")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:k},"Cancel"))))};var Xe=function(e){var a=e.match.params.topicID,t=localStorage.getItem("userID"),n=(Object(p.b)(W),Object(p.b)(re,{variables:{userID:t}})),r=Object(p.b)(me,{variables:{topicID:a}}),c=r.loading,s=r.error,o=r.data;if(c)return l.a.createElement("p",null,"Loading...");if(s)return l.a.createElement("p",null,s.message);var m=o.getTopicByID,u=m.title,d=m.created_date,E=m.course,b=m.assigned_trainers;return l.a.createElement(pe.a,null,function(){var e=n.data.getUserByID.role;return n.loading?l.a.createElement("p",null,"Loading..."):n.error?l.a.createElement("p",null,n.error.message):"Admin"===e?l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content util-box"},l.a.createElement(i.b,{to:"/topics",className:"btn btn-dark"},"Back To List"))):""}(),l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,u)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Created Date:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Se(d))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Course:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,l.a.createElement(i.b,{to:"/courses/".concat(E.id)},E.name))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Assigned Trainers:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,0===b.length?l.a.createElement("li",{key:"LOL2"},"No trainer has been assigned to this topic"):b.map((function(e){return l.a.createElement("li",{key:e.id},e.name)}))))))))};var ze=function(e){var a=e.match.params.studentID,t=(Object(p.b)(H),Object(p.b)(ie,{variables:{studentID:a}})),n=t.loading,r=t.error,c=t.data;if(n)return l.a.createElement("p",null,"Loading...");if(r)return l.a.createElement("p",null,r.message);var s=c.getStudentByID,o=s.name,m=s.created_date,u=s.dob,d=s.address,E=s.phone_number,b=s.courses,g=s.user;return l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content util-box"},l.a.createElement(i.b,{to:"/students",className:"btn btn-dark"},"Back To List"))),l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,o)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Date of Birth:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Ce(u))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Address:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,d)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Phone Number:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,E)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Email:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,l.a.createElement("a",{href:"mailto:".concat(g.email)},g.email))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Created Date:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Se(m))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Participated Courses:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,0===b.length?l.a.createElement("li",{key:"LOL"},"No course has been participated by this student"):b.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(i.b,{to:"/courses/".concat(e.id)},e.name))}))))))))};var Ge=function(e){var a=e.match.params.trainerID,t=(Object(p.b)(ee),Object(p.b)(ue,{variables:{trainerID:a}})),n=t.loading,r=t.error,c=t.data;if(n)return l.a.createElement("p",null,"Loading...");if(r)return l.a.createElement("p",null,r.message);var s=c.getTrainerByID,o=s.name,m=s.created_date,u=s.dob,d=s.address,E=s.phone_number,b=s.profession,g=s.topics,v=s.user;return console.log(s),l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content util-box"},l.a.createElement(i.b,{to:"/trainers",className:"btn btn-dark"},"Back To List"))),l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,o)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Profession:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,b)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Date of Birth:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Ce(u))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Address:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,d)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Phone Number:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,E)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Email:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,l.a.createElement("a",{href:"mailto:".concat(v.email)},v.email))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Created Date:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,Se(m))),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Assigned Topics:"))),l.a.createElement("div",{className:"col-lg-9 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,0===g.length?l.a.createElement("li",{key:"LOL"},"No course has been participated by this student"):g.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(i.b,{to:"/topics/".concat(e.id)},e.title))}))))))))};var He=function(e){var a=Object(n.useState)(""),t=Object(d.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),m=o[0],u=o[1],E=Object(p.a)(de),b=Object(d.a)(E,2),g=b[0],v=(b[1].data,function(){var a=Object(he.a)(fe.a.mark((function a(t){var n;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),n=localStorage.getItem("userID"),g({variables:{userID:n,oldPassword:r,newPassword:m}}),e.history.push("/logout");case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Change Password"),l.a.createElement("div",{className:"box-content"},l.a.createElement(Ne.a,{onSubmit:v},l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"oldPassword"},"Old Password:"),l.a.createElement(je.a,{type:"password",placeholder:"Old Password",id:"oldPassword",name:"oldPassword",required:!0,value:r,onChange:function(e){c(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"newPassword"},"New Password:"),l.a.createElement(je.a,{type:"password",placeholder:"New Password",id:"newPassword",name:"newPassword",required:!0,value:m,onChange:function(e){u(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Change Password"),l.a.createElement(i.b,{to:"/profile",className:"btn btn-info btn-block mt-2"},"Back To Profile"))))))},Ke=function(e){var a=e.className,t=e.topicID,r=Object(p.b)(me,{variables:{topicID:t}}),c=Object(p.a)(z,{update:function(e,a){var t=a.data.deleteTopic,n=e.readQuery({query:W}).topics;e.writeQuery({query:W,data:{topics:n.filter((function(e){return e.id!==t.id}))}})}}),s=Object(d.a)(c,2),o=s[0],m=(s[1].data,function(){var e=Object(he.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{topicID:t}});case 2:b(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),i=Object(n.useState)(!1),u=Object(d.a)(i,2),E=u[0],b=u[1],g=function(){return b(!E)};return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"danger",onClick:g},"Delete"),l.a.createElement(xe.a,{isOpen:E,toggle:g,className:a},l.a.createElement(ke.a,{toggle:g},"Delete Topic"),l.a.createElement($e.a,null,function(){var e=r.loading,a=r.error,t=r.data;if(e)return l.a.createElement("p",null,"Loading...");if(a)return l.a.createElement("p",null,a.message);var n=t.getTopicByID,c=n.title,s=n.course,o=n.assigned_trainers;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Title:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,c)),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Course:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,s.name)),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Assigned Trainers:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,function(e){return 0===e.length?l.a.createElement("li",{key:"LOL2"},"No trainer has been assigned to this topic"):e.map((function(e){return l.a.createElement("li",{key:e.id},e.name)}))}(o))))}()),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"danger",onClick:m},"Yes")," ",l.a.createElement(Ie.a,{color:"secondary",onClick:g},"No"))))};var Re=function(e){var a=e.topicItem,t=e.topicItem,n=t.title,r=t.course,c=t.created_date,s=t.id,o=r.name;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/topics/".concat(s)},n)),l.a.createElement("td",null,o),l.a.createElement("td",null,Se(c)),l.a.createElement("td",{className:"utils"},l.a.createElement(We,{topicItem:a}),l.a.createElement(Ke,{topicID:s})))},Ze=function(e){var a=Object(n.useContext)(E),t=a.setMessage,r=a.setMessageType,c=a.setVisible,s=Object(n.useState)(""),o=Object(d.a)(s,2),m=o[0],i=o[1],u=Object(n.useState)(""),b=Object(d.a)(u,2),g=b[0],v=b[1],f=Object(p.b)(Q),h=f.loading,N=f.error,O=f.data,D=Object(p.a)(X,{update:function(e,a){var t=a.data.addTopic,n=e.readQuery({query:W}).topics;e.writeQuery({query:W,data:{topics:n.concat([t])}})}}),j=Object(d.a)(D,2),I=j[0],y=(j[1].data,e.className),w=Object(n.useState)(!1),S=Object(d.a)(w,2),C=S[0],x=S[1],k=function(){return x(!C)},$=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,I({variables:{title:m,courseID:g}});case 3:i(""),t("Successfully created"),r("success"),c(!0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"dark",onClick:k},"Add Topic"),l.a.createElement(xe.a,{isOpen:C,toggle:k,className:y},l.a.createElement(ke.a,{toggle:k},"Create New Topic"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:$},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"title"},"Topic Title:"),l.a.createElement(je.a,{type:"text",placeholder:"Topic Title",id:"title",name:"title",required:!0,value:m,onChange:function(e){i(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"courseID"},"Course:"),l.a.createElement("select",{className:"custom-select",id:"courseID",name:"courseID",defaultValue:"",value:g,onChange:function(e){v(e.target.value)},required:!0},l.a.createElement("option",{disabled:!0,value:""},"--Course--"),h?l.a.createElement("option",null,"Loading"):N?l.a.createElement("option",null,"Error"):O.courses.map((function(e){return l.a.createElement("option",{value:e.id},e.name)})))),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Create")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:k},"Cancel"))))},ea=function(e){var a=Object(n.useContext)(E),t=a.setMessage,r=a.setMessageType,c=a.setVisible,s=Object(p.b)(Q),o=Object(p.b)(ee),m=Object(p.b)(W),i=Object(p.a)(se,{update:function(e,a){var t=a.data.assignTrainerToTopic,n=e.readQuery({query:ee}).trainers;e.writeQuery({query:ee,data:{students:n.map((function(e){return e.id===t.id?t:e}))}})}}),u=Object(d.a)(i,2),b=u[0],g=(u[1],Object(n.useState)("")),v=Object(d.a)(g,2),f=v[0],h=v[1],N=Object(n.useState)(""),O=Object(d.a)(N,2),D=O[0],j=O[1],I=Object(n.useState)(""),y=Object(d.a)(I,2),w=y[0],S=y[1],C=e.className,x=Object(n.useState)(!1),k=Object(d.a)(x,2),$=k[0],T=k[1],_=function(){return T(!$)},q=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,b({variables:{topicID:w,trainerID:D}});case 3:j(""),h(""),S(""),t("Successfully assigned"),r("success"),c(!0),setTimeout((function(){window.location.reload()}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"dark",onClick:_},"Assign Trainer To Topic"),l.a.createElement(xe.a,{isOpen:$,toggle:_,className:C},l.a.createElement(ke.a,{toggle:_},"Assign Trainer To Topic"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:q},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"trainerID"},"Trainer:"),l.a.createElement("select",{className:"custom-select",id:"trainerID",name:"trainerID",defaultValue:"",value:D,onChange:function(e){j(e.target.value)}},l.a.createElement("option",{value:"",disabled:!0},"--Trainer--"),function(){var e=o.loading,a=o.error,t=o.data;return e?l.a.createElement("option",{disabled:!0},"Loading..."):a?l.a.createElement("option",{disabled:!0},a.message):t.trainers.map((function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.name)}))}())),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"courseID"},"Course:"),l.a.createElement("select",{className:"custom-select",id:"courseID",name:"courseID",defaultValue:"",value:f,onChange:function(e){h(e.target.value)}},l.a.createElement("option",{value:"",disabled:!0},"--Course--"),function(){var e=s.loading,a=s.error,t=s.data;return e?l.a.createElement("option",{disabled:!0},"Loading..."):a?l.a.createElement("option",{disabled:!0},a.message):t.courses.map((function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.name)}))}())),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"topicID"},"Topic:"),l.a.createElement("select",{className:"custom-select",id:"topicID",name:"topicID",defaultValue:"",value:w,onChange:function(e){S(e.target.value)}},l.a.createElement("option",{value:"",disabled:!0},"--Topic--"),function(){var e=m.loading,a=m.error,t=m.data;if(e||o.loading)return l.a.createElement("option",{disabled:!0},"Loading...");if(a||o.error)return l.a.createElement("option",{disabled:!0},a.message);var n=t.topics;if(n=n.filter((function(e){return e.courseID===f})),D){var r=o.data.trainers.filter((function(e){return e.id===D}))[0];n=n.filter((function(e){return!r.topicsIDs.includes(e.id)}))}return 0===n.length?l.a.createElement("option",{disabled:!0},"There is no topics related to the selected course or this trainer has been assign to all the topics in this course"):n.map((function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.title)}))}())),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Assign")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:_},"Cancel"))))};var aa=function(){var e=Object(p.b)(W),a=e.loading,t=e.error,n=e.data;return a?l.a.createElement("p",null,"Loading..."):t?l.a.createElement("p",null,t.message):l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content util-box"},l.a.createElement(Ze,null),l.a.createElement(ea,null))),l.a.createElement("div",{className:"box table-container"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement(Ve.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Course"),l.a.createElement("th",null,"Created Date"),l.a.createElement("th",null,"Utilities")),l.a.createElement("tbody",null,(console.log(n),n.topics.map((function(e){return l.a.createElement(Re,{key:e.id,topicItem:e})}))))))))},ta=function(e){var a=e.className,t=e.studentID,r=Object(p.b)(ie,{variables:{studentID:t}}),c=Object(p.a)(Z,{update:function(e,a){var t=a.data.deleteStudent,n=e.readQuery({query:H}).students;e.writeQuery({query:H,data:{students:n.filter((function(e){return e.id!==t.id}))}})}}),s=Object(d.a)(c,2),o=s[0],m=(s[1].data,function(){var e=Object(he.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{studentID:t}});case 2:b(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),i=Object(n.useState)(!1),u=Object(d.a)(i,2),E=u[0],b=u[1],g=function(){return b(!E)};return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"danger",onClick:g},"Delete"),l.a.createElement(xe.a,{isOpen:E,toggle:g,className:a},l.a.createElement(ke.a,{toggle:g},"Delete Student"),l.a.createElement($e.a,null,function(){var e=r.loading,a=r.error,t=r.data;if(e)return l.a.createElement("p",null,"Loading...");if(a)return l.a.createElement("p",null,a.message);var n=t.getStudentByID,c=n.name,s=n.courses;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,c)),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Courses:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,function(e){return 0===e.length?l.a.createElement("li",{key:"LOL"},"No course has been participated by this student"):e.map((function(e){return l.a.createElement("li",{key:e.id},e.name)}))}(s))))}()),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"danger",onClick:m},"Yes")," ",l.a.createElement(Ie.a,{color:"secondary",onClick:g},"No"))))};var na=function(e){var a=e.studentItem,t=a.name,n=a.dob,r=a.phone_number,c=a.id,s=a.user.email;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/students/".concat(c)},t)),l.a.createElement("td",null,Ce(n)),l.a.createElement("td",null,r),l.a.createElement("td",null,l.a.createElement("a",{href:"mailto:".concat(s)},s)),l.a.createElement("td",{className:"utils"},l.a.createElement(Le,{studentItem:a}),l.a.createElement(ta,{studentID:c})))},la=function(e){var a=Object(n.useContext)(E),t=a.setMessage,r=a.setMessageType,c=a.setVisible,s=Object(n.useState)(""),o=Object(d.a)(s,2),m=o[0],i=o[1],u=Object(n.useState)(""),b=Object(d.a)(u,2),g=b[0],v=b[1],f=Object(n.useState)(""),h=Object(d.a)(f,2),N=h[0],O=h[1],D=Object(n.useState)(""),j=Object(d.a)(D,2),I=j[0],y=j[1],w=Object(n.useState)(""),S=Object(d.a)(w,2),C=S[0],x=S[1],k=Object(n.useState)(""),$=Object(d.a)(k,2),T=$[0],_=$[1],q=Object(n.useState)([]),L=Object(d.a)(q,2),P=L[0],F=L[1],B=Object(p.a)(K,{update:function(e,a){var t=a.data.addStudent,n=e.readQuery({query:H}).students;e.writeQuery({query:H,data:{students:n.concat([t])}})}}),A=Object(d.a)(B,2),U=A[0],M=(A[1].data,e.className),Q=Object(n.useState)(!1),V=Object(d.a)(Q,2),Y=V[0],J=V[1],W=function(){return J(!Y)},X=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,U({variables:{name:m,email:g,address:I,password:N,dob:T,phone_number:C,coursesIDs:P}});case 3:z(),t("Successfully created"),r("success"),c(!0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=function(){i(""),v(""),O(""),y(""),x(""),_(""),F([])};return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"dark",onClick:W},"Add Student"),l.a.createElement(xe.a,{isOpen:Y,toggle:W,className:M},l.a.createElement(ke.a,{toggle:W},"Create New Student"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:X},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"name"},"Name:"),l.a.createElement(je.a,{type:"text",placeholder:"Name",id:"name",name:"name",required:!0,value:m,onChange:function(e){i(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"dob"},"Date of Birth:"),l.a.createElement(je.a,{type:"date",placeholder:"DOB",id:"dob",name:"dob",required:!0,value:T,onChange:function(e){_(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"phone_number"},"Phone Number:"),l.a.createElement(je.a,{type:"tel",placeholder:"Phone Number",id:"phone_number",name:"phone_number",required:!0,value:C,onChange:function(e){x(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"address"},"Address:"),l.a.createElement("textarea",{id:"address",name:"address",className:"form-control",rows:"5",placeholder:"Address",value:I,onChange:function(e){y(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"email"},"Email:"),l.a.createElement(je.a,{type:"email",placeholder:"Email",id:"email",name:"email",required:!0,value:g,onChange:function(e){v(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"password"},"Password:"),l.a.createElement(je.a,{type:"password",placeholder:"Password",id:"password",name:"password",required:!0,value:N,onChange:function(e){O(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Create")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:W},"Cancel"))))};var ra=function(){var e=Object(p.b)(H),a=e.loading,t=e.error,n=e.data;return a?l.a.createElement("p",null,"Loading..."):t?l.a.createElement("p",null,t.message):l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content"},l.a.createElement(la,null))),l.a.createElement("div",{className:"box table-container"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement(Ve.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Date of Birth"),l.a.createElement("th",null,"Phone Number"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Utilities")),l.a.createElement("tbody",null,n.students.map((function(e){return l.a.createElement(na,{key:e.id,studentItem:e})})))))))},ca=function(e){var a=e.className,t=e.trainerID,r=Object(p.b)(ue,{variables:{trainerID:t}}),c=Object(p.a)(ne,{update:function(e,a){var t=a.data.deleteTrainer,n=e.readQuery({query:ee}).trainers;e.writeQuery({query:ee,data:{trainers:n.filter((function(e){return e.id!==t.id}))}})}}),s=Object(d.a)(c,2),o=s[0],m=(s[1].data,function(){var e=Object(he.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{trainerID:t}});case 2:b(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),i=Object(n.useState)(!1),u=Object(d.a)(i,2),E=u[0],b=u[1],g=function(){return b(!E)};return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"danger",onClick:g},"Delete"),l.a.createElement(xe.a,{isOpen:E,toggle:g,className:a},l.a.createElement(ke.a,{toggle:g},"Delete Student"),l.a.createElement($e.a,null,function(){var e=r.loading,a=r.error,t=r.data;if(e)return l.a.createElement("p",null,"Loading...");if(a)return l.a.createElement("p",null,a.message);var n=t.getTrainerByID,c=n.name,s=n.topics;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Name:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("p",null,c)),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-title"},l.a.createElement("p",null,l.a.createElement("b",null,"Courses:"))),l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 details-data"},l.a.createElement("ul",null,function(e){return 0===e.length?l.a.createElement("li",{key:"LOL"},"No course has been participated by this student"):e.map((function(e){return l.a.createElement("li",{key:e.id},e.title)}))}(s))))}()),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"danger",onClick:m},"Yes")," ",l.a.createElement(Ie.a,{color:"secondary",onClick:g},"No"))))};var sa=function(e){var a=e.trainerItem,t=a.name,n=a.dob,r=a.phone_number,c=a.id,s=a.user.email;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/trainers/".concat(c)},t)),l.a.createElement("td",null,Ce(n)),l.a.createElement("td",null,r),l.a.createElement("td",null,l.a.createElement("a",{href:"mailto:".concat(s)},s)),l.a.createElement("td",{className:"utils"},l.a.createElement(Pe,{trainerItem:a}),l.a.createElement(ca,{trainerID:c})))},oa=function(e){var a=Object(n.useContext)(E),t=a.setMessage,r=a.setMessageType,c=a.setVisible,s=Object(n.useState)(""),o=Object(d.a)(s,2),m=o[0],i=o[1],u=Object(n.useState)(""),b=Object(d.a)(u,2),g=b[0],v=b[1],f=Object(n.useState)(""),h=Object(d.a)(f,2),N=h[0],O=h[1],D=Object(n.useState)(""),j=Object(d.a)(D,2),I=j[0],y=j[1],w=Object(n.useState)(""),S=Object(d.a)(w,2),C=S[0],x=S[1],k=Object(n.useState)(""),$=Object(d.a)(k,2),T=$[0],_=$[1],q=Object(n.useState)(""),L=Object(d.a)(q,2),P=L[0],F=L[1],B=Object(n.useState)([]),A=Object(d.a)(B,2),U=A[0],M=A[1],Q=Object(p.a)(ae,{update:function(e,a){var t=a.data.addTrainer,n=e.readQuery({query:ee}).trainers;e.writeQuery({query:ee,data:{trainers:n.concat([t])}})}}),V=Object(d.a)(Q,2),Y=V[0],J=(V[1].data,e.className),W=Object(n.useState)(!1),X=Object(d.a)(W,2),z=X[0],G=X[1],H=function(){return G(!z)},K=function(){var e=Object(he.a)(fe.a.mark((function e(a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Y({variables:{name:m,email:g,address:I,password:N,dob:T,phone_number:C,topicsIDs:U,profession:P}});case 3:R(),t("Successfully created"),r("success"),c(!0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=function(){i(""),v(""),O(""),F(""),y(""),x(""),_(""),M([])};return l.a.createElement("div",null,l.a.createElement(Ie.a,{color:"dark",onClick:H},"Add Trainer"),l.a.createElement(xe.a,{isOpen:z,toggle:H,className:J},l.a.createElement(ke.a,{toggle:H},"Create New Trainer"),l.a.createElement($e.a,null,l.a.createElement(Ne.a,{onSubmit:K},l.a.createElement(qe,null),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"name"},"Name:"),l.a.createElement(je.a,{type:"text",placeholder:"Name",id:"name",name:"name",required:!0,value:m,onChange:function(e){i(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"profession"},"Profession:"),l.a.createElement(je.a,{type:"text",placeholder:"Profession",id:"profession",name:"profession",required:!0,value:P,onChange:function(e){F(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"dob"},"Date of Birth:"),l.a.createElement(je.a,{type:"date",placeholder:"DOB",id:"dob",name:"dob",required:!0,value:T,onChange:function(e){_(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"phone_number"},"Phone Number:"),l.a.createElement(je.a,{type:"tel",placeholder:"Phone Number",id:"phone_number",name:"phone_number",required:!0,value:C,onChange:function(e){x(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"address"},"Address:"),l.a.createElement("textarea",{id:"address",name:"address",className:"form-control",rows:"5",placeholder:"Address",value:I,onChange:function(e){y(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"email"},"Email:"),l.a.createElement(je.a,{type:"email",placeholder:"Email",id:"email",name:"email",required:!0,value:g,onChange:function(e){v(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(De.a,{htmlFor:"password"},"Password:"),l.a.createElement(je.a,{type:"password",placeholder:"Password",id:"password",name:"password",required:!0,value:N,onChange:function(e){O(e.target.value)}})),l.a.createElement(Oe.a,null,l.a.createElement(Ie.a,{color:"dark",block:!0,type:"submit"},"Create")))),l.a.createElement(Te.a,null,l.a.createElement(Ie.a,{color:"secondary",onClick:H},"Cancel"))))};var ma=function(){var e=Object(p.b)(ee),a=e.loading,t=e.error,n=e.data;return a?l.a.createElement("p",null,"Loading..."):t?l.a.createElement("p",null,t.message):l.a.createElement(pe.a,null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"box-title"},"Utilities"),l.a.createElement("div",{className:"box-content"},l.a.createElement(oa,null))),l.a.createElement("div",{className:"box table-container"},l.a.createElement("h2",{className:"box-title"},"Data"),l.a.createElement("div",{className:"box-content"},l.a.createElement(Ve.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Date of Birth"),l.a.createElement("th",null,"Phone Number"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Utilities")),l.a.createElement("tbody",null,n.trainers.map((function(e){return l.a.createElement(sa,{key:e.id,trainerItem:e})})))))))};var ia=function(e){var a=function(){var a=Object(he.a)(fe.a.mark((function a(){return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.removeItem("userID"),a.next=3,m.clearStore();case 3:e.history.push("/"),window.location.reload();case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return l.a.createElement("div",null,a())};var ua=function(){return l.a.createElement(s.a,{client:m},l.a.createElement("div",{className:"App"},l.a.createElement(i.a,null,l.a.createElement(ge,null),l.a.createElement(Ee,null),l.a.createElement(b,null,l.a.createElement("main",null,l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/",exact:!0,component:ye}),l.a.createElement(u.a,{path:"/profile",exact:!0,component:Fe}),l.a.createElement(u.a,{path:"/courses",exact:!0,component:Ye}),l.a.createElement(u.a,{path:"/courses/:courseID",component:Je}),l.a.createElement(u.a,{path:"/topics",exact:!0,component:aa}),l.a.createElement(u.a,{path:"/topics/:topicID",component:Xe}),l.a.createElement(u.a,{path:"/students/:studentID",component:ze}),l.a.createElement(u.a,{path:"/trainers/:trainerID",component:Ge}),l.a.createElement(u.a,{path:"/students",exact:!0,component:ra}),l.a.createElement(u.a,{path:"/trainers",exact:!0,component:ma}),l.a.createElement(u.a,{path:"/change-password",exact:!0,component:He}),l.a.createElement(u.a,{path:"/logout",exact:!0,component:ia})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ua,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.af372912.chunk.js.map